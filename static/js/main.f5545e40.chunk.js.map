{"version":3,"sources":["service/service.js","components/Weather.jsx","App.js","index.js"],"names":["API","process","Weather","useState","query","setQuery","weather","setWeather","bgImg","setBgImg","useEffect","main","setClass","temp","className","type","placeholder","onChange","e","target","value","onKeyPress","key","fetch","then","response","json","result","catch","err","alert","console","error","name","sys","country","Date","toDateString","Math","round","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4JAAaA,EACJC,mCADID,EAEHC,2C,OCwEKC,EAtEC,WACZ,MAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAA8BF,mBAAS,IAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAA0BJ,mBAAS,IAAnC,mBAAOK,EAAP,KAAcC,EAAd,KAkBAC,qBAAU,WACFJ,EAAQK,MACRC,EAASN,EAAQK,KAAKE,QAE3B,CAACT,IAGJ,IAAMQ,EAAW,SAACC,GACd,OACWJ,EADPI,EAAO,GACS,OACTA,EAAO,GACE,QACTA,EAAO,GACE,SACTA,EAAO,EACE,QACG,UAG3B,OACI,qBAAKC,UAAS,UAAKN,EAAL,mBAAd,SACI,iCACI,qBAAKM,UAAU,aAAf,SACI,uBAAOC,KAAK,OACRD,UAAU,aACVE,YAAY,YACZC,SAAU,SAAAC,GAAC,OAAIb,EAASa,EAAEC,OAAOC,QACjCA,MAAOhB,EACPiB,WA5CL,SAACH,GACE,UAAVA,EAAEI,KACFC,MAAM,GAAD,OAAIvB,EAAJ,qBAAyBI,EAAzB,+BAAqDJ,IACrDwB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACFpB,EAAWoB,GACXf,EAASe,EAAOhB,KAAKE,MACrBR,EAAS,OAEZuB,OAAM,SAAAC,GACHC,MAAM,yBACNC,QAAQC,MAAMH,WAmCjBvB,EAAQK,MAAS,qCACd,sBAAKG,UAAU,eAAf,UACI,sBAAKA,UAAU,WAAf,UACKR,EAAQ2B,KADb,KACqB3B,EAAQ4B,IAAIC,WAEjC,qBAAKrB,UAAU,OAAf,UAAuB,IAAIsB,MAAOC,oBAEtC,sBAAKvB,UAAU,cAAf,UACI,sBAAKA,UAAU,OAAf,UAAuBwB,KAAKC,MAAMjC,EAAQK,KAAKE,MAA/C,WACA,qBAAKC,UAAU,UAAf,SACKR,EAAQA,QAAQ,GAAGK,mBCrDjC6B,MARf,WACE,OACE,qBAAK1B,UAAU,MAAf,SACE,cAAC,EAAD,OCHN2B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U","file":"static/js/main.f5545e40.chunk.js","sourcesContent":["export const API = {\r\n    key: process.env.REACT_APP_API_KEY,\r\n    base: process.env.REACT_APP_URL_BASE\r\n}; \r\n","import React, { useEffect, useState } from 'react';\r\n\r\nimport { API } from '../service/service'\r\n\r\nconst Weather = () => {\r\n    const [query, setQuery] = useState('');\r\n    const [weather, setWeather] = useState({});\r\n    const [bgImg, setBgImg] = useState('');\r\n\r\n    const search = (e) => {\r\n        if (e.key === 'Enter') {\r\n            fetch(`${API.base}weather?q=${query}&units=metric&APPID=${API.key}`)\r\n                .then(response => response.json())\r\n                .then(result => {\r\n                    setWeather(result);\r\n                    setClass(result.main.temp);\r\n                    setQuery('');\r\n                })\r\n                .catch(err => {\r\n                    alert('Try a different place')\r\n                    console.error(err)\r\n                });\r\n        };\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (weather.main) {\r\n            setClass(weather.main.temp);\r\n        }\r\n    }, [query])\r\n\r\n    // ugly code!!! didnt succeed to make switch case\r\n    const setClass = (temp) => {\r\n        if (temp > 30) {\r\n            return setBgImg('hot ');\r\n        } else if (temp > 20) {\r\n            return setBgImg('nice ');\r\n        } else if (temp > 10) {\r\n            return setBgImg('chill ');\r\n        } else if (temp > 0) {\r\n            return setBgImg('cold ');\r\n        } else return setBgImg('snow ');\r\n    };\r\n\r\n    return (\r\n        <div className={`${bgImg} main-container`}>\r\n            <main>\r\n                <div className=\"search-box\">\r\n                    <input type=\"text\"\r\n                        className=\"search-bar\"\r\n                        placeholder=\"Search...\"\r\n                        onChange={e => setQuery(e.target.value)}\r\n                        value={query}\r\n                        onKeyPress={search} />\r\n                </div>\r\n                {weather.main && (<>\r\n                    <div className=\"location-box\">\r\n                        <div className=\"location\">\r\n                            {weather.name}, {weather.sys.country}\r\n                        </div>\r\n                        <div className=\"date\">{new Date().toDateString()}</div>\r\n                    </div>\r\n                    <div className=\"weather-box\">\r\n                        <div className=\"temp\">{Math.round(weather.main.temp)}Â°c</div>\r\n                        <div className=\"weather\">\r\n                            {weather.weather[0].main}\r\n                        </div>\r\n                    </div>\r\n                </>)}\r\n            </main>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Weather;\r\n","import './App.css';\nimport Weather from './components/Weather';\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Weather />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}